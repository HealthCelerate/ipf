
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-03-09
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>File-based Logging of Message Payload | ipf-platform-camel-ihe</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/github.min.css" rel="stylesheet" />

		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
	</head>

	<body class="page-commonpayloadlogging project-ipf-platform-camel-ihe" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href=".."><span class="color-highlight">IPF</span> Open eHealth Integration Platform</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="https://github.com/oehf/ipf" title="Download" class="externalLink">Download</a></li>
							<li ><a href="https://github.com/oehf/ipf" title="GitHub project" class="externalLink">GitHub project</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="eHealth Integration Profile">eHealth Integration Profile</a></li>
									<li ><a href="../ipf-modules-hl7/index.html" title="HL7v2 Message Processing">HL7v2 Message Processing</a></li>
									<li ><a href="../ipf-commons-ihe-hl7v3/index.html" title="HL7 Message translation">HL7 Message translation</a></li>
									<li ><a href="../ipf-modules-cda/index.html" title="CDA Support">CDA Support</a></li>
									<li ><a href="../ipf-platform-camel-core/index.html" title="Camel Groovy layer">Camel Groovy layer</a></li>
									<li ><a href="../ipf-platform-camel-hl7/index.html" title="Camel HL7 processing">Camel HL7 processing</a></li>
									<li ><a href="../ipf-platform-camel-cda/index.html" title="Camel CDA processing">Camel CDA processing</a></li>
									<li ><a href="../ipf-commons-map/index.html" title="Code System Mapping">Code System Mapping</a></li>
									<li ><a href="../dynamic.html" title="Dynamic Registration of IPF Features">Dynamic Registration of IPF Features</a></li>
									<li ><a href="../ipf-osgi-karaf/index.html" title="OSGi Support">OSGi Support</a></li>
									<li ><a href="../ipf-tutorials/index.html" title="Tutorials">Tutorials</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="../" id="bannerLeft"><h1><br/><span class="color-highlight">IPF</span> Open eHealth Integration Platform</h1></a>
					<p class="lead">eHealth standards on steroids</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="File-based_Logging_of_Message_Payload">File-based Logging of Message Payload</h2>
 </div> 
 <p>IPF provides the possibility to store payload of incoming or outgoing messages of eHealth transactions into files.</p> 
 <p><b>Warning</b>: This feature is intended for debug purposes and may lead to performance problems when used in highly loaded production environment without proper configuration. Making saved messages available for non-authorized persons may cause data privacy risks.</p> 
 <p>This feature is implemented in form of MLLP and CXF interceptors, depending on the protocol. </p> 
 <p>The configuration of these interceptors is uniform. Their constructors require a single String parameter that corresponds to the name pattern of the log files to be created. This pattern can contain absolute or relative path and is defined using the Spring Expression Language (SpEL), with square brackets as expressions placeholders. </p> 
 <p>The following specific values can be used in the expressions:</p> 
 <table border="0" class="bodyTable table table-striped table-hover"> 
  <thead> 
   <tr class="a"> 
    <th align="left">Value Name </th> 
    <th align="left">Value Type </th> 
    <th align="left">Description</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr class="b"> 
    <td align="left"><tt>processId</tt> </td> 
    <td align="left">String </td> 
    <td align="left">Identifier of the current OS process, consisting from the process number and the host name, divided by a dash, e.g. “31415-ipfSuperMainframe”</td> 
   </tr> 
   <tr class="a"> 
    <td align="left"><tt>sequenceId</tt> </td> 
    <td align="left">String </td> 
    <td align="left">Internally generated sequence number</td> 
   </tr> 
   <tr class="b"> 
    <td align="left"><tt>date('format')</tt> </td> 
    <td align="left">String </td> 
    <td align="left">Current date and time, formatted using <a class="externalLink" href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html">SimpleDateFormat</a> according to the given specification</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>The file name pattern configured for an interceptor can be changed at any time using the corresponding setter method. When the file denoted by the pattern does already exist, the new message payload will be appended at the end of the existing content.</p> 
 <p>The actual logging is delegated to subclasses of <tt>org.openehealth.ipf.commons.ihe.core.payload.PayloadLoggerBase</tt>. This base class provide an additional set of properties that can be set via the logging interceptor instances:</p> 
 <table border="0" class="bodyTable table table-striped table-hover"> 
  <thead> 
   <tr class="a"> 
    <th align="left">Property name </th> 
    <th align="left">Type </th> 
    <th align="left">Default Value </th> 
    <th align="left">Description </th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr class="b"> 
    <td align="left"><tt>globallyEnabled</tt> </td> 
    <td align="left">boolean (static)</td> 
    <td align="left">true </td> 
    <td align="left">switch file-based logging on and off in the whole application.</td> 
   </tr> 
   <tr class="a"> 
    <td align="left"><tt>locallyEnabled</tt> </td> 
    <td align="left">boolean </td> 
    <td align="left">true </td> 
    <td align="left">whether this particular interceptor instance is enabled or disabled</td> 
   </tr> 
   <tr class="b"> 
    <td align="left"><tt>errorCountLimit</tt> </td> 
    <td align="left">int </td> 
    <td align="left">-1 </td> 
    <td align="left">Maximal allowed count of messages this interceptor instance has sequentially failed to handle. When this value has been reached, the interceptor gets deactivated until <tt>resetErrorCount()</tt> is called. Negative values mean “no limit”</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>Note that even the globally deactivated logging may lead to performance penalties because the corresponding interceptors remain still deployed and perform some non-avoidable activities on each message.</p> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li><a href="#File-based_Logging_of_Message_Payload" title="File-based Logging of Message Payload">File-based Logging of Message Payload</a>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li >
							<a href="../" title="Home">Home</a>
						</li>
						<li >
							<a href="https://github.com/oehf/ipf/" title="GitHub project" class="externalLink">GitHub project</a>
						</li>
						<li >
							<a href="../changes-report.html" title="Release notes">Release notes</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Download</li>
						<li >
							<a href="https://github.com/oehf/ipf" title="Download" class="externalLink">Download</a>
						</li>
						<li >
							<a href="../license.html" title="License">License</a>
						</li>
						<li class="nav-header">Development</li>
						<li >
							<a href="../development.html" title="Development">Development</a>
						</li>
						<li >
							<a href="https://github.com/oehf/ipf/issues/" title="Issues" class="externalLink">Issues</a>
						</li>
						<li >
							<a href="https://github.com/oehf/ipf/" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
						</li>
						<li class="nav-header">Submodules</li>
						<li >
							<a href="../ipf-platform-camel-ihe-atna/index.html" title="ipf-platform-camel-ihe-atna">ipf-platform-camel-ihe-atna</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-ws/index.html" title="ipf-platform-camel-ihe-ws">ipf-platform-camel-ihe-ws</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-xds/index.html" title="ipf-platform-camel-ihe-xds">ipf-platform-camel-ihe-xds</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-hl7v2/index.html" title="ipf-platform-camel-ihe-hl7v2">ipf-platform-camel-ihe-hl7v2</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-mllp/index.html" title="ipf-platform-camel-ihe-mllp">ipf-platform-camel-ihe-mllp</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-hl7v3/index.html" title="ipf-platform-camel-ihe-hl7v3">ipf-platform-camel-ihe-hl7v3</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-hl7v2ws/index.html" title="ipf-platform-camel-ihe-hl7v2ws">ipf-platform-camel-ihe-hl7v2ws</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-continua/index.html" title="ipf-platform-camel-ihe-continua">ipf-platform-camel-ihe-continua</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-fhir/index.html" title="ipf-platform-camel-ihe-fhir">ipf-platform-camel-ihe-fhir</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-core/index.html" title="Unnamed - org.openehealth.ipf.platform-camel:ipf-platform-camel-ihe-core:jar:3.2-SNAPSHOT">Unnamed - org.openehealth.ipf.platform-camel:ipf-platform-camel-ihe-core:jar:3.2-SNAPSHOT</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-ihe-hpd/index.html" title="ipf-platform-camel-ihe-hpd">ipf-platform-camel-ihe-hpd</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li >
							<a href="index.html" title="eHealth Integration Profile">eHealth Integration Profile</a>
						</li>
						<li >
							<a href="../ipf-modules-hl7/index.html" title="HL7v2 Message Processing">HL7v2 Message Processing</a>
						</li>
						<li >
							<a href="../ipf-commons-ihe-hl7v3/index.html" title="HL7 Message translation">HL7 Message translation</a>
						</li>
						<li >
							<a href="../ipf-modules-cda/index.html" title="CDA Support">CDA Support</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-core/index.html" title="Camel Groovy layer">Camel Groovy layer</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-hl7/index.html" title="Camel HL7 processing">Camel HL7 processing</a>
						</li>
						<li >
							<a href="../ipf-platform-camel-cda/index.html" title="Camel CDA processing">Camel CDA processing</a>
						</li>
						<li >
							<a href="../ipf-commons-map/index.html" title="Code System Mapping">Code System Mapping</a>
						</li>
						<li >
							<a href="../dynamic.html" title="Dynamic Registration of IPF Features">Dynamic Registration of IPF Features</a>
						</li>
						<li >
							<a href="../ipf-osgi-karaf/index.html" title="OSGi Support">OSGi Support</a>
						</li>
						<li >
							<a href="../ipf-tutorials/index.html" title="Tutorials">Tutorials</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Maven Reports</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2017 <a href="http://www.openehealth.org/">Open eHealth Foundation</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 3.2-SNAPSHOT. </span><span class="publishDate">Last Published: 2017-03-09. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>

	</body>
</html>
